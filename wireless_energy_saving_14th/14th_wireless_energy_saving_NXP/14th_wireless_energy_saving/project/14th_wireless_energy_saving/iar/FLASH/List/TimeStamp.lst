###############################################################################
#
# IAR ANSI C/C++ Compiler V7.70.1.11437/W32 for ARM       10/Jun/2019  20:27:05
# Copyright 1999-2016 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\lib\LPLD\FUNC\TimeStamp.c
#    Command line =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\lib\LPLD\FUNC\TimeStamp.c
#        -D LPLD_K60 -lCN
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List
#        -lB
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List
#        -o
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\Obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=None --dlib_config "D:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\INC\c\DLib_Config_Normal.h" -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\CPU\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\common\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\HW\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\DEV\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\uCOS-II\Ports\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\uCOS-II\Source\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\FatFs\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\FatFs\option\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\common\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\driver\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\descriptor\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\class\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\control\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\debug\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\device\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\signal\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\system\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\control\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\debug\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\device\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\signal\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\system\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\drivers\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\drivers\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\charge\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\charge\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\FUNC\
#        -Ol -I "D:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\CMSIS\Include\" -D ARM_MATH_CM4
#    Locale       =  Chinese (Simplified)_China.936
#    List file    =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List\TimeStamp.lst
#    Object file  =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\Obj\TimeStamp.o
#
###############################################################################

D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving\14th_wireless_energy_saving\lib\LPLD\FUNC\TimeStamp.c
      1          /**
      2           * @file TimeStamp.c
      3           * @version 3.01[By LPLD]
      4           * @date 2013-10-29
      5           * @brief TIMESTAMP时间戳功能定义
      6           *
      7           * 更改建议:不建议修改
      8           *
      9           * 版权所有:北京拉普兰德电子技术有限公司
     10           * http://www.lpld.cn
     11           * mail:support@lpld.cn
     12           *
     13           * @par
     14           * 本代码由拉普兰德[LPLD]开发并维护，并向所有使用者开放源代码。
     15           * 开发者可以随意修使用或改源代码。但本段及以上注释应予以保留。
     16           * 不得更改或删除原版权所有者姓名，二次开发者可以加注二次版权所有者。
     17           * 但应在遵守此协议的基础上，开放源代码、不得出售代码本身。
     18           * 拉普兰德不负责由于使用本代码所带来的任何事故、法律责任或相关不良影响。
     19           * 拉普兰德无义务解释、说明本代码的具体原理、功能、实现方法。
     20           * 除非拉普兰德[LPLD]授权，开发者不得将本代码用于商业产品。
     21           */
     22          #include "common.h"
     23          #include "TimeStamp.h"
     24          //定义每月天数常量

   \                                 In section .rodata, align 4
     25          const uint8 month_table[12]={31,28,31,30,31,30,31,31,30,31,30,31};
   \                     month_table:
   \   00000000   0x1F 0x1C          DC8 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31
   \              0x1F 0x1E    
   \              0x1F 0x1E    
   \              0x1F 0x1F    
   \              0x1E 0x1F    
   \              0x1E 0x1F    
     26          //定义星期补偿常量

   \                                 In section .rodata, align 4
     27          const uint8 week_table[12]={0,3,3,6,1,4,6,2,5,0,3,5}; 
   \                     week_table:
   \   00000000   0x00 0x03          DC8 0, 3, 3, 6, 1, 4, 6, 2, 5, 0, 3, 5
   \              0x03 0x06    
   \              0x01 0x04    
   \              0x06 0x02    
   \              0x05 0x00    
   \              0x03 0x05    
     28          

   \                                 In section .rodata, align 4
     29          const uint8 month_list[12][3]={"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"};
   \                     month_list:
   \   00000000   0x4A 0x61          DC8 4AH, 61H, 6EH
   \              0x6E         
   \   00000003   0x46 0x65          DC8 46H, 65H, 62H
   \              0x62         
   \   00000006   0x4D 0x61          DC8 4DH, 61H, 72H
   \              0x72         
   \   00000009   0x41 0x70          DC8 41H, 70H, 72H
   \              0x72         
   \   0000000C   0x4D 0x61          DC8 4DH, 61H, 79H
   \              0x79         
   \   0000000F   0x4A 0x75          DC8 4AH, 75H, 6EH
   \              0x6E         
   \   00000012   0x4A 0x75          DC8 4AH, 75H, 6CH
   \              0x6C         
   \   00000015   0x41 0x75          DC8 41H, 75H, 67H
   \              0x67         
   \   00000018   0x53 0x65          DC8 53H, 65H, 70H
   \              0x70         
   \   0000001B   0x4F 0x63          DC8 4FH, 63H, 74H
   \              0x74         
   \   0000001E   0x4E 0x6F          DC8 4EH, 6FH, 76H
   \              0x76         
   \   00000021   0x44 0x65          DC8 44H, 65H, 63H
   \              0x63         
     30          
     31          /*
     32           * LPLD_DateTimeToTimeStamp
     33           * 将时间结构体转换为秒
     34           * 以IBM时间标准为基础
     35           * 
     36           * 参数:
     37           *    TimeStamp_FormatTypeDef* realtime_init_struct
     38           *                        具体定义见TimeStamp_FormatTypeDef
     39           *
     40           * 输出:
     41           *    返回值为秒，可以做为RTC秒计数器的值
     42           *    返回零表示错误
     43           *
     44           */

   \                                 In section .text, align 2, keep-with-next
     45          uint32 LPLD_DateTimeToTimeStamp(TimeStamp_FormatTypeDef *realtime_init_struct)
     46          {
   \                     LPLD_DateTimeToTimeStamp: (+1)
   \   00000000   0xB5F0             PUSH     {R4-R7,LR}
   \   00000002   0x0001             MOVS     R1,R0
     47            uint16 i; 
     48            uint32 current_second = 0;
   \   00000004   0x2000             MOVS     R0,#+0
     49            uint16 current_year = realtime_init_struct->year;
   \   00000006   0x88CF             LDRH     R7,[R1, #+6]
     50            uint8 current_month = realtime_init_struct->month;
   \   00000008   0x794A             LDRB     R2,[R1, #+5]
     51            uint8 current_day = realtime_init_struct->day;
   \   0000000A   0x790B             LDRB     R3,[R1, #+4]
     52            uint8 current_hour = realtime_init_struct->hour;
   \   0000000C   0x780C             LDRB     R4,[R1, #+0]
     53            uint8 current_minute = realtime_init_struct->minute;
   \   0000000E   0x784D             LDRB     R5,[R1, #+1]
     54            //判断时间起点终端是否越界
     55            if(current_year < IBM_YEAR_START || current_year > IBM_YEAR_END)
   \   00000010   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   00000012   0xF2A7 0x76B2      SUBW     R6,R7,#+1970
   \   00000016   0x2E82             CMP      R6,#+130
   \   00000018   0xD301             BCC.N    ??LPLD_DateTimeToTimeStamp_0
     56            {
     57              return 0;
   \   0000001A   0x2000             MOVS     R0,#+0
   \   0000001C   0xE095             B.N      ??LPLD_DateTimeToTimeStamp_1
     58            }
     59            //将年转化为秒
     60            for (i = IBM_YEAR_START; i < current_year; i++)
   \                     ??LPLD_DateTimeToTimeStamp_0: (+1)
   \   0000001E   0xF240 0x76B2      MOVW     R6,#+1970
   \   00000022   0xE004             B.N      ??LPLD_DateTimeToTimeStamp_2
     61            {
     62              if(IS_LEAPYEAR(i))
     63              {
     64                  current_second += LEAPYEAR_CONVERTTO_SECONEDS;
     65              }
     66              else
     67              {
     68                  current_second += AVERAGEYEAR_CONVERTTO_SECONEDS;
   \                     ??LPLD_DateTimeToTimeStamp_3: (+1)
   \   00000024   0x.... 0x....      LDR.W    R12,??DataTable3  ;; 0x1e13380
   \   00000028   0xEB1C 0x0000      ADDS     R0,R12,R0
     69              }
   \                     ??LPLD_DateTimeToTimeStamp_4: (+1)
   \   0000002C   0x1C76             ADDS     R6,R6,#+1
   \                     ??LPLD_DateTimeToTimeStamp_2: (+1)
   \   0000002E   0x46B4             MOV      R12,R6
   \   00000030   0x46BE             MOV      LR,R7
   \   00000032   0xFA1F 0xFC8C      UXTH     R12,R12          ;; ZeroExt  R12,R12,#+16,#+16
   \   00000036   0xFA1F 0xFE8E      UXTH     LR,LR            ;; ZeroExt  LR,LR,#+16,#+16
   \   0000003A   0x45F4             CMP      R12,LR
   \   0000003C   0xD230             BCS.N    ??LPLD_DateTimeToTimeStamp_5
   \   0000003E   0xB2B6             UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   00000040   0xF05F 0x0C04      MOVS     R12,#+4
   \   00000044   0xFB96 0xFEFC      SDIV     LR,R6,R12
   \   00000048   0xFB0C 0x6C1E      MLS      R12,R12,LR,R6
   \   0000004C   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000050   0xD002             BEQ.N    ??LPLD_DateTimeToTimeStamp_6
   \   00000052   0xF05F 0x0C00      MOVS     R12,#+0
   \   00000056   0xE01B             B.N      ??LPLD_DateTimeToTimeStamp_7
   \                     ??LPLD_DateTimeToTimeStamp_6: (+1)
   \   00000058   0xB2B6             UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   0000005A   0xF05F 0x0C64      MOVS     R12,#+100
   \   0000005E   0xFB96 0xFEFC      SDIV     LR,R6,R12
   \   00000062   0xFB0C 0x6C1E      MLS      R12,R12,LR,R6
   \   00000066   0xF1BC 0x0F00      CMP      R12,#+0
   \   0000006A   0xD002             BEQ.N    ??LPLD_DateTimeToTimeStamp_8
   \   0000006C   0xF05F 0x0C01      MOVS     R12,#+1
   \   00000070   0xE00E             B.N      ??LPLD_DateTimeToTimeStamp_7
   \                     ??LPLD_DateTimeToTimeStamp_8: (+1)
   \   00000072   0xB2B6             UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   00000074   0xF44F 0x7CC8      MOV      R12,#+400
   \   00000078   0xFB96 0xFEFC      SDIV     LR,R6,R12
   \   0000007C   0xFB0C 0x6C1E      MLS      R12,R12,LR,R6
   \   00000080   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000084   0xD002             BEQ.N    ??LPLD_DateTimeToTimeStamp_9
   \   00000086   0xF05F 0x0C00      MOVS     R12,#+0
   \   0000008A   0xE001             B.N      ??LPLD_DateTimeToTimeStamp_7
   \                     ??LPLD_DateTimeToTimeStamp_9: (+1)
   \   0000008C   0xF05F 0x0C01      MOVS     R12,#+1
   \                     ??LPLD_DateTimeToTimeStamp_7: (+1)
   \   00000090   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000094   0xD0C6             BEQ.N    ??LPLD_DateTimeToTimeStamp_3
   \   00000096   0xF100 0x70F1      ADD      R0,R0,#+31588352
   \   0000009A   0xF510 0x4005      ADDS     R0,R0,#+34048
   \   0000009E   0xE7C5             B.N      ??LPLD_DateTimeToTimeStamp_4
     70            }
     71            //将月转化为秒
     72            for ( i = 0; i < (current_month - 1); i++)
   \                     ??LPLD_DateTimeToTimeStamp_5: (+1)
   \   000000A0   0x2600             MOVS     R6,#+0
   \   000000A2   0xE00C             B.N      ??LPLD_DateTimeToTimeStamp_10
     73            {
     74              current_second += (uint32)month_table[i] * DAY_CONVERTTO_SECONEDS;
     75              if(IS_LEAPYEAR(current_year) && i == FEBRUARY)
   \                     ??LPLD_DateTimeToTimeStamp_11: (+1)
   \   000000A4   0xF05F 0x0C01      MOVS     R12,#+1
   \                     ??LPLD_DateTimeToTimeStamp_12: (+1)
   \   000000A8   0xF1BC 0x0F00      CMP      R12,#+0
   \   000000AC   0xD006             BEQ.N    ??LPLD_DateTimeToTimeStamp_13
   \   000000AE   0xB2B6             UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   000000B0   0x2E01             CMP      R6,#+1
   \   000000B2   0xD103             BNE.N    ??LPLD_DateTimeToTimeStamp_13
     76              {
     77                  current_second += DAY_CONVERTTO_SECONEDS;
   \   000000B4   0x.... 0x....      LDR.W    R12,??DataTable3_1  ;; 0x15180
   \   000000B8   0xEB1C 0x0000      ADDS     R0,R12,R0
     78              }
   \                     ??LPLD_DateTimeToTimeStamp_13: (+1)
   \   000000BC   0x1C76             ADDS     R6,R6,#+1
   \                     ??LPLD_DateTimeToTimeStamp_10: (+1)
   \   000000BE   0xB2B6             UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   000000C0   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   000000C2   0xF1B2 0x0C01      SUBS     R12,R2,#+1
   \   000000C6   0x4566             CMP      R6,R12
   \   000000C8   0xDA2F             BGE.N    ??LPLD_DateTimeToTimeStamp_14
   \   000000CA   0x.... 0x....      LDR.W    R12,??DataTable3_2
   \   000000CE   0xB2B6             UXTH     R6,R6            ;; ZeroExt  R6,R6,#+16,#+16
   \   000000D0   0xF81C 0xC006      LDRB     R12,[R12, R6]
   \   000000D4   0x.... 0x....      LDR.W    LR,??DataTable3_1  ;; 0x15180
   \   000000D8   0xFB0E 0x000C      MLA      R0,LR,R12,R0
   \   000000DC   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   000000DE   0xF05F 0x0C04      MOVS     R12,#+4
   \   000000E2   0xFB97 0xFEFC      SDIV     LR,R7,R12
   \   000000E6   0xFB0C 0x7C1E      MLS      R12,R12,LR,R7
   \   000000EA   0xF1BC 0x0F00      CMP      R12,#+0
   \   000000EE   0xD002             BEQ.N    ??LPLD_DateTimeToTimeStamp_15
   \   000000F0   0xF05F 0x0C00      MOVS     R12,#+0
   \   000000F4   0xE7D8             B.N      ??LPLD_DateTimeToTimeStamp_12
   \                     ??LPLD_DateTimeToTimeStamp_15: (+1)
   \   000000F6   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   000000F8   0xF05F 0x0C64      MOVS     R12,#+100
   \   000000FC   0xFB97 0xFEFC      SDIV     LR,R7,R12
   \   00000100   0xFB0C 0x7C1E      MLS      R12,R12,LR,R7
   \   00000104   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000108   0xD002             BEQ.N    ??LPLD_DateTimeToTimeStamp_16
   \   0000010A   0xF05F 0x0C01      MOVS     R12,#+1
   \   0000010E   0xE7CB             B.N      ??LPLD_DateTimeToTimeStamp_12
   \                     ??LPLD_DateTimeToTimeStamp_16: (+1)
   \   00000110   0xB2BF             UXTH     R7,R7            ;; ZeroExt  R7,R7,#+16,#+16
   \   00000112   0xF44F 0x7CC8      MOV      R12,#+400
   \   00000116   0xFB97 0xFEFC      SDIV     LR,R7,R12
   \   0000011A   0xFB0C 0x7C1E      MLS      R12,R12,LR,R7
   \   0000011E   0xF1BC 0x0F00      CMP      R12,#+0
   \   00000122   0xD0BF             BEQ.N    ??LPLD_DateTimeToTimeStamp_11
   \   00000124   0xF05F 0x0C00      MOVS     R12,#+0
   \   00000128   0xE7BE             B.N      ??LPLD_DateTimeToTimeStamp_12
     79            }
     80            //将天，小时，分转化为秒
     81            current_second += (uint32)(current_day - 1) * DAY_CONVERTTO_SECONEDS;
   \                     ??LPLD_DateTimeToTimeStamp_14: (+1)
   \   0000012A   0xB2DB             UXTB     R3,R3            ;; ZeroExt  R3,R3,#+24,#+24
   \   0000012C   0x1E5A             SUBS     R2,R3,#+1
   \   0000012E   0x....             LDR.N    R3,??DataTable3_1  ;; 0x15180
   \   00000130   0xFB03 0x0002      MLA      R0,R3,R2,R0
     82            current_second += (uint32)current_hour * HOUR_CONVERTTO_SECONEDS;
   \   00000134   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000136   0xF44F 0x6261      MOV      R2,#+3600
   \   0000013A   0xFB02 0x0004      MLA      R0,R2,R4,R0
     83            current_second += (uint32)current_minute * MINUTE_CONVERTTO_SECONEDS;
   \   0000013E   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000140   0x223C             MOVS     R2,#+60
   \   00000142   0xFB02 0x0005      MLA      R0,R2,R5,R0
     84            current_second += realtime_init_struct->second;   
   \   00000146   0x7889             LDRB     R1,[R1, #+2]
   \   00000148   0x1840             ADDS     R0,R0,R1
     85            return current_second;   
   \                     ??LPLD_DateTimeToTimeStamp_1: (+1)
   \   0000014A   0xBDF0             POP      {R4-R7,PC}       ;; return
     86          }
     87          /*
     88           * LPLD_TimeStampToDateTime
     89           * 将秒转换为时间结构体
     90           * 以IBM时间标准为基础
     91           * 
     92           * 参数:
     93           *    uint32 -- rtc_second  RTC秒计数器的值
     94           *    TimeStamp_FormatTypeDef* realtime_init_struct
     95           *                        具体定义见TimeStamp_FormatTypeDef
     96           *
     97           * 输出:
     98           *    返回值为秒，可以做为RTC秒计数器的值
     99           *    返回1表示正确
    100           *
    101           */

   \                                 In section .text, align 2, keep-with-next
    102          uint8 LPLD_TimeStampToDateTime(uint32 rtc_second, TimeStamp_FormatTypeDef *realtime_init_struct)
    103          {
   \                     LPLD_TimeStampToDateTime: (+1)
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x000C             MOVS     R4,R1
    104            static uint32 day_counter = 0;
    105            uint32 days = 0;
   \   00000004   0x2100             MOVS     R1,#+0
    106            uint32 i = 0;
   \   00000006   0x2500             MOVS     R5,#+0
    107            days = rtc_second / DAY_CONVERTTO_SECONEDS;//second to days
   \   00000008   0x....             LDR.N    R1,??DataTable3_1  ;; 0x15180
   \   0000000A   0xFBB0 0xF1F1      UDIV     R1,R0,R1
    108            if(day_counter != days)
   \   0000000E   0x....             LDR.N    R2,??DataTable3_3
   \   00000010   0x6812             LDR      R2,[R2, #+0]
   \   00000012   0x428A             CMP      R2,R1
   \   00000014   0xD066             BEQ.N    ??LPLD_TimeStampToDateTime_0
    109            {
    110              day_counter = days;
   \   00000016   0x....             LDR.N    R2,??DataTable3_3
   \   00000018   0x6011             STR      R1,[R2, #+0]
    111              i = IBM_YEAR_START;
   \   0000001A   0xF240 0x75B2      MOVW     R5,#+1970
   \   0000001E   0xE002             B.N      ??LPLD_TimeStampToDateTime_1
    112              //days to years
    113              while(days >= AVERAGEYEAR_DAYS)
    114              {
    115                if(IS_LEAPYEAR(i)) 
    116                {
    117                  if(days >= LEAPYEAR_DAYS)
    118                  {
    119                      days-= LEAPYEAR_DAYS;
    120                  }   
    121                  else 
    122                  {
    123                      i++;
    124                      break;
    125                  }   
    126                }
    127                else 
    128                {
    129                   days -= AVERAGEYEAR_DAYS; 
   \                     ??LPLD_TimeStampToDateTime_2: (+1)
   \   00000020   0xF2A1 0x116D      SUBW     R1,R1,#+365
    130                }
    131                i++;  
   \                     ??LPLD_TimeStampToDateTime_3: (+1)
   \   00000024   0x1C6D             ADDS     R5,R5,#+1
   \                     ??LPLD_TimeStampToDateTime_1: (+1)
   \   00000026   0xF5B1 0x7FB6      CMP      R1,#+364
   \   0000002A   0xD921             BLS.N    ??LPLD_TimeStampToDateTime_4
   \   0000002C   0xF015 0x0F03      TST      R5,#0x3
   \   00000030   0xD001             BEQ.N    ??LPLD_TimeStampToDateTime_5
   \   00000032   0x2200             MOVS     R2,#+0
   \   00000034   0xE013             B.N      ??LPLD_TimeStampToDateTime_6
   \                     ??LPLD_TimeStampToDateTime_5: (+1)
   \   00000036   0x2264             MOVS     R2,#+100
   \   00000038   0xFBB5 0xF3F2      UDIV     R3,R5,R2
   \   0000003C   0xFB02 0x5213      MLS      R2,R2,R3,R5
   \   00000040   0x2A00             CMP      R2,#+0
   \   00000042   0xD001             BEQ.N    ??LPLD_TimeStampToDateTime_7
   \   00000044   0x2201             MOVS     R2,#+1
   \   00000046   0xE00A             B.N      ??LPLD_TimeStampToDateTime_6
   \                     ??LPLD_TimeStampToDateTime_7: (+1)
   \   00000048   0xF44F 0x72C8      MOV      R2,#+400
   \   0000004C   0xFBB5 0xF3F2      UDIV     R3,R5,R2
   \   00000050   0xFB02 0x5213      MLS      R2,R2,R3,R5
   \   00000054   0x2A00             CMP      R2,#+0
   \   00000056   0xD001             BEQ.N    ??LPLD_TimeStampToDateTime_8
   \   00000058   0x2200             MOVS     R2,#+0
   \   0000005A   0xE000             B.N      ??LPLD_TimeStampToDateTime_6
   \                     ??LPLD_TimeStampToDateTime_8: (+1)
   \   0000005C   0x2201             MOVS     R2,#+1
   \                     ??LPLD_TimeStampToDateTime_6: (+1)
   \   0000005E   0x2A00             CMP      R2,#+0
   \   00000060   0xD0DE             BEQ.N    ??LPLD_TimeStampToDateTime_2
   \   00000062   0xF5B1 0x7FB7      CMP      R1,#+366
   \   00000066   0xD302             BCC.N    ??LPLD_TimeStampToDateTime_9
   \   00000068   0xF5B1 0x71B7      SUBS     R1,R1,#+366
   \   0000006C   0xE7DA             B.N      ??LPLD_TimeStampToDateTime_3
   \                     ??LPLD_TimeStampToDateTime_9: (+1)
   \   0000006E   0x1C6D             ADDS     R5,R5,#+1
    132              }
    133              realtime_init_struct->year = i;
   \                     ??LPLD_TimeStampToDateTime_4: (+1)
   \   00000070   0x80E5             STRH     R5,[R4, #+6]
    134              i = 0;
   \   00000072   0x2500             MOVS     R5,#+0
   \   00000074   0xE01D             B.N      ??LPLD_TimeStampToDateTime_10
    135              //days to month
    136              while(days >= AVERAGEYEAR_FEBRUARY_DAYS )
    137              {
    138                if(IS_LEAPYEAR(realtime_init_struct->year) && i == FEBRUARY )
   \                     ??LPLD_TimeStampToDateTime_11: (+1)
   \   00000076   0x88E2             LDRH     R2,[R4, #+6]
   \   00000078   0x2364             MOVS     R3,#+100
   \   0000007A   0xFB92 0xF6F3      SDIV     R6,R2,R3
   \   0000007E   0xFB03 0x2216      MLS      R2,R3,R6,R2
   \   00000082   0x2A00             CMP      R2,#+0
   \   00000084   0xD001             BEQ.N    ??LPLD_TimeStampToDateTime_12
   \   00000086   0x2201             MOVS     R2,#+1
   \   00000088   0xE00B             B.N      ??LPLD_TimeStampToDateTime_13
   \                     ??LPLD_TimeStampToDateTime_12: (+1)
   \   0000008A   0x88E2             LDRH     R2,[R4, #+6]
   \   0000008C   0xF44F 0x73C8      MOV      R3,#+400
   \   00000090   0xFB92 0xF6F3      SDIV     R6,R2,R3
   \   00000094   0xFB03 0x2216      MLS      R2,R3,R6,R2
   \   00000098   0x2A00             CMP      R2,#+0
   \   0000009A   0xD001             BEQ.N    ??LPLD_TimeStampToDateTime_14
   \   0000009C   0x2200             MOVS     R2,#+0
   \   0000009E   0xE000             B.N      ??LPLD_TimeStampToDateTime_13
   \                     ??LPLD_TimeStampToDateTime_14: (+1)
   \   000000A0   0x2201             MOVS     R2,#+1
   \                     ??LPLD_TimeStampToDateTime_13: (+1)
   \   000000A2   0x2A00             CMP      R2,#+0
   \   000000A4   0xD012             BEQ.N    ??LPLD_TimeStampToDateTime_15
   \   000000A6   0x2D01             CMP      R5,#+1
   \   000000A8   0xD110             BNE.N    ??LPLD_TimeStampToDateTime_15
    139                {
    140                  if(days >= LEAPYEAR_FEBRUARY_DAYS) 
   \   000000AA   0x291D             CMP      R1,#+29
   \   000000AC   0xD30D             BCC.N    ??LPLD_TimeStampToDateTime_16
    141                  {
    142                    days -= LEAPYEAR_FEBRUARY_DAYS;
   \   000000AE   0x391D             SUBS     R1,R1,#+29
    143                  }
    144                  else break; 
    145                }
    146                else 
    147                {
    148                  if(days >= month_table[i]) 
    149                  {
    150                    days -= month_table[i];
    151                  }
    152                  else break;
    153                }
    154                i++;  
   \                     ??LPLD_TimeStampToDateTime_17: (+1)
   \   000000B0   0x1C6D             ADDS     R5,R5,#+1
   \                     ??LPLD_TimeStampToDateTime_10: (+1)
   \   000000B2   0x291C             CMP      R1,#+28
   \   000000B4   0xD312             BCC.N    ??LPLD_TimeStampToDateTime_18
   \   000000B6   0x88E2             LDRH     R2,[R4, #+6]
   \   000000B8   0x2304             MOVS     R3,#+4
   \   000000BA   0xFB92 0xF6F3      SDIV     R6,R2,R3
   \   000000BE   0xFB03 0x2216      MLS      R2,R3,R6,R2
   \   000000C2   0x2A00             CMP      R2,#+0
   \   000000C4   0xD0D7             BEQ.N    ??LPLD_TimeStampToDateTime_11
   \   000000C6   0x2200             MOVS     R2,#+0
   \   000000C8   0xE7EB             B.N      ??LPLD_TimeStampToDateTime_13
   \                     ??LPLD_TimeStampToDateTime_16: (+1)
   \   000000CA   0xE007             B.N      ??LPLD_TimeStampToDateTime_18
   \                     ??LPLD_TimeStampToDateTime_15: (+1)
   \   000000CC   0x....             LDR.N    R2,??DataTable3_2
   \   000000CE   0x5D52             LDRB     R2,[R2, R5]
   \   000000D0   0x4291             CMP      R1,R2
   \   000000D2   0xD303             BCC.N    ??LPLD_TimeStampToDateTime_19
   \   000000D4   0x....             LDR.N    R2,??DataTable3_2
   \   000000D6   0x5D52             LDRB     R2,[R2, R5]
   \   000000D8   0x1A89             SUBS     R1,R1,R2
   \   000000DA   0xE7E9             B.N      ??LPLD_TimeStampToDateTime_17
    155              }
    156              realtime_init_struct->month = i+1;
   \                     ??LPLD_TimeStampToDateTime_19: (+1)
   \                     ??LPLD_TimeStampToDateTime_18: (+1)
   \   000000DC   0x1C6A             ADDS     R2,R5,#+1
   \   000000DE   0x7162             STRB     R2,[R4, #+5]
    157              realtime_init_struct->day = days+1;
   \   000000E0   0x1C49             ADDS     R1,R1,#+1
   \   000000E2   0x7121             STRB     R1,[R4, #+4]
    158            }
    159            i = rtc_second % DAY_CONVERTTO_SECONEDS;     
   \                     ??LPLD_TimeStampToDateTime_0: (+1)
   \   000000E4   0x....             LDR.N    R1,??DataTable3_1  ;; 0x15180
   \   000000E6   0xFBB0 0xF2F1      UDIV     R2,R0,R1
   \   000000EA   0xFB01 0x0512      MLS      R5,R1,R2,R0
    160            realtime_init_struct->week = LPLD_GetWeek(realtime_init_struct);         
   \   000000EE   0x0020             MOVS     R0,R4
   \   000000F0   0x.... 0x....      BL       LPLD_GetWeek
   \   000000F4   0x70E0             STRB     R0,[R4, #+3]
    161            realtime_init_struct->hour = i / HOUR_CONVERTTO_SECONEDS;        //hours
   \   000000F6   0xF44F 0x6061      MOV      R0,#+3600
   \   000000FA   0xFBB5 0xF0F0      UDIV     R0,R5,R0
   \   000000FE   0x7020             STRB     R0,[R4, #+0]
    162            realtime_init_struct->minute = (i % HOUR_CONVERTTO_SECONEDS) / MINUTE_CONVERTTO_SECONEDS; //minutes  
   \   00000100   0xF44F 0x6061      MOV      R0,#+3600
   \   00000104   0xFBB5 0xF1F0      UDIV     R1,R5,R0
   \   00000108   0xFB00 0x5011      MLS      R0,R0,R1,R5
   \   0000010C   0x213C             MOVS     R1,#+60
   \   0000010E   0xFBB0 0xF0F1      UDIV     R0,R0,R1
   \   00000112   0x7060             STRB     R0,[R4, #+1]
    163            realtime_init_struct->second = (i % HOUR_CONVERTTO_SECONEDS) % MINUTE_CONVERTTO_SECONEDS; //seconds
   \   00000114   0xF44F 0x6061      MOV      R0,#+3600
   \   00000118   0xFBB5 0xF1F0      UDIV     R1,R5,R0
   \   0000011C   0xFB00 0x5011      MLS      R0,R0,R1,R5
   \   00000120   0x213C             MOVS     R1,#+60
   \   00000122   0xFBB0 0xF2F1      UDIV     R2,R0,R1
   \   00000126   0xFB01 0x0012      MLS      R0,R1,R2,R0
   \   0000012A   0x70A0             STRB     R0,[R4, #+2]
    164            return 1;
   \   0000012C   0x2001             MOVS     R0,#+1
   \   0000012E   0xBD70             POP      {R4-R6,PC}       ;; return
    165          }

   \                                 In section .bss, align 4
   \                     `LPLD_TimeStampToDateTime::day_counter`:
   \   00000000                      DS8 4
    166          /*
    167           * LPLD_GetWeek
    168           * 从时间结构体获得周数
    169           * 
    170           * 参数:
    171           *    TimeStamp_FormatTypeDef* realtime_init_struct
    172           *                        具体定义见TimeStamp_FormatTypeDef
    173           *
    174           * 输出:
    175           *    返回值为周数
    176           *
    177           */

   \                                 In section .text, align 2, keep-with-next
    178          uint8 LPLD_GetWeek(TimeStamp_FormatTypeDef *realtime_init_struct)
    179          {   
   \                     LPLD_GetWeek: (+1)
   \   00000000   0xB430             PUSH     {R4,R5}
    180            uint16 i;
    181            uint8 yh,yl,day,month;
    182            i = realtime_init_struct->year;
   \   00000002   0x88C3             LDRH     R3,[R0, #+6]
    183            day = realtime_init_struct->day;
   \   00000004   0x7901             LDRB     R1,[R0, #+4]
    184            month = realtime_init_struct->month;
   \   00000006   0x7940             LDRB     R0,[R0, #+5]
    185            yh = i / 100;
   \   00000008   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   0000000A   0x2264             MOVS     R2,#+100
   \   0000000C   0xFB93 0xF4F2      SDIV     R4,R3,R2
    186            yl = i % 100;
   \   00000010   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   00000012   0x2264             MOVS     R2,#+100
   \   00000014   0xFB93 0xF5F2      SDIV     R5,R3,R2
   \   00000018   0xFB02 0x3215      MLS      R2,R2,R5,R3
    187            if(yh >= 20 && yh <21)
   \   0000001C   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000001E   0xF1B4 0x0314      SUBS     R3,R4,#+20
   \   00000022   0x2B01             CMP      R3,#+1
   \   00000024   0xD200             BCS.N    ??LPLD_GetWeek_0
    188            {
    189              yl +=100;
   \   00000026   0x3264             ADDS     R2,R2,#+100
    190            }
    191            i = (yl + yl/4)%7 + day + week_table[month - 1];
   \                     ??LPLD_GetWeek_0: (+1)
   \   00000028   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   0000002A   0x2304             MOVS     R3,#+4
   \   0000002C   0xFB92 0xF3F3      SDIV     R3,R2,R3
   \   00000030   0xFA53 0xF382      UXTAB    R3,R3,R2
   \   00000034   0x2407             MOVS     R4,#+7
   \   00000036   0xFB93 0xF5F4      SDIV     R5,R3,R4
   \   0000003A   0xFB04 0x3315      MLS      R3,R4,R5,R3
   \   0000003E   0xFA53 0xF181      UXTAB    R1,R3,R1
   \   00000042   0x....             LDR.N    R3,??DataTable3_4
   \   00000044   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000046   0x4403             ADD      R3,R3,R0
   \   00000048   0xF813 0x3C01      LDRB     R3,[R3, #-1]
   \   0000004C   0xFA51 0xF383      UXTAB    R3,R1,R3
    192            if(!(yl % 4) && month < 3)
   \   00000050   0xB2D2             UXTB     R2,R2            ;; ZeroExt  R2,R2,#+24,#+24
   \   00000052   0x2104             MOVS     R1,#+4
   \   00000054   0xFB92 0xF4F1      SDIV     R4,R2,R1
   \   00000058   0xFB01 0x2114      MLS      R1,R1,R4,R2
   \   0000005C   0x2900             CMP      R1,#+0
   \   0000005E   0xD103             BNE.N    ??LPLD_GetWeek_1
   \   00000060   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000062   0x2803             CMP      R0,#+3
   \   00000064   0xDA00             BGE.N    ??LPLD_GetWeek_1
    193            {
    194              i--;
   \   00000066   0x1E5B             SUBS     R3,R3,#+1
    195            }
    196            return (i % 7);
   \                     ??LPLD_GetWeek_1: (+1)
   \   00000068   0xB29B             UXTH     R3,R3            ;; ZeroExt  R3,R3,#+16,#+16
   \   0000006A   0x2007             MOVS     R0,#+7
   \   0000006C   0xFB93 0xF1F0      SDIV     R1,R3,R0
   \   00000070   0xFB00 0x3011      MLS      R0,R0,R1,R3
   \   00000074   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000076   0xBC30             POP      {R4,R5}
   \   00000078   0x4770             BX       LR               ;; return
    197          } 
    198          
    199          /*
    200           * LPLD_AutoInitTimeStamp
    201           * 根据编译器时钟自动初始化TimeStamp_FormatTypeDef结构体
    202           * 
    203           * 参数:
    204           *    TimeStamp_FormatTypeDef* realtime_init_struct
    205           *                        具体定义见TimeStamp_FormatTypeDef
    206           *
    207           * 输出:
    208           */

   \                                 In section .text, align 2, keep-with-next
    209          void LPLD_AutoInitTimeStamp(TimeStamp_FormatTypeDef *realtime_init_struct)
    210          {
   \                     LPLD_AutoInitTimeStamp: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x0004             MOVS     R4,R0
    211            int i;
    212            for(i = 0;i < 12;i++)
   \   00000004   0x2500             MOVS     R5,#+0
   \   00000006   0xE000             B.N      ??LPLD_AutoInitTimeStamp_0
   \                     ??LPLD_AutoInitTimeStamp_1: (+1)
   \   00000008   0x1C6D             ADDS     R5,R5,#+1
   \                     ??LPLD_AutoInitTimeStamp_0: (+1)
   \   0000000A   0x2D0C             CMP      R5,#+12
   \   0000000C   0xDA0C             BGE.N    ??LPLD_AutoInitTimeStamp_2
    213            {
    214              if(strncmp((char*)month_list[i],__DATE__,3)==0)
   \   0000000E   0x2203             MOVS     R2,#+3
   \   00000010   0x....             LDR.N    R1,??DataTable3_5
   \   00000012   0x....             LDR.N    R0,??DataTable3_6
   \   00000014   0x2303             MOVS     R3,#+3
   \   00000016   0xFB03 0xF305      MUL      R3,R3,R5
   \   0000001A   0x4418             ADD      R0,R0,R3
   \   0000001C   0x.... 0x....      BL       strncmp
   \   00000020   0x2800             CMP      R0,#+0
   \   00000022   0xD1F1             BNE.N    ??LPLD_AutoInitTimeStamp_1
    215              {
    216                realtime_init_struct->month = i + 1;
   \   00000024   0x1C68             ADDS     R0,R5,#+1
   \   00000026   0x7160             STRB     R0,[R4, #+5]
    217                break;
    218              }
    219            }
    220            realtime_init_struct->year = GET_COMPILE_YEAR;
   \                     ??LPLD_AutoInitTimeStamp_2: (+1)
   \   00000028   0x....             LDR.N    R0,??DataTable3_5
   \   0000002A   0x79C0             LDRB     R0,[R0, #+7]
   \   0000002C   0xF44F 0x717A      MOV      R1,#+1000
   \   00000030   0xFB10 0xF001      SMULBB   R0,R0,R1
   \   00000034   0x....             LDR.N    R1,??DataTable3_5
   \   00000036   0x7A09             LDRB     R1,[R1, #+8]
   \   00000038   0x2264             MOVS     R2,#+100
   \   0000003A   0xFB11 0x0002      SMLABB   R0,R1,R2,R0
   \   0000003E   0x....             LDR.N    R1,??DataTable3_5
   \   00000040   0x7A49             LDRB     R1,[R1, #+9]
   \   00000042   0x220A             MOVS     R2,#+10
   \   00000044   0xFB11 0x0002      SMLABB   R0,R1,R2,R0
   \   00000048   0x....             LDR.N    R1,??DataTable3_5
   \   0000004A   0x7A89             LDRB     R1,[R1, #+10]
   \   0000004C   0x1840             ADDS     R0,R0,R1
   \   0000004E   0xF500 0x503C      ADD      R0,R0,#+12032
   \   00000052   0x30B0             ADDS     R0,R0,#+176
   \   00000054   0x80E0             STRH     R0,[R4, #+6]
    221            realtime_init_struct->day = GET_COMPILE_DAY;
   \   00000056   0x....             LDR.N    R0,??DataTable3_5
   \   00000058   0x7900             LDRB     R0,[R0, #+4]
   \   0000005A   0x2820             CMP      R0,#+32
   \   0000005C   0xD101             BNE.N    ??LPLD_AutoInitTimeStamp_3
   \   0000005E   0x2000             MOVS     R0,#+0
   \   00000060   0xE004             B.N      ??LPLD_AutoInitTimeStamp_4
   \                     ??LPLD_AutoInitTimeStamp_3: (+1)
   \   00000062   0x....             LDR.N    R0,??DataTable3_5
   \   00000064   0x7900             LDRB     R0,[R0, #+4]
   \   00000066   0x3830             SUBS     R0,R0,#+48
   \   00000068   0x210A             MOVS     R1,#+10
   \   0000006A   0x4348             MULS     R0,R1,R0
   \                     ??LPLD_AutoInitTimeStamp_4: (+1)
   \   0000006C   0x....             LDR.N    R1,??DataTable3_5
   \   0000006E   0x7949             LDRB     R1,[R1, #+5]
   \   00000070   0x1808             ADDS     R0,R1,R0
   \   00000072   0x3830             SUBS     R0,R0,#+48
   \   00000074   0x7120             STRB     R0,[R4, #+4]
    222            realtime_init_struct->week = 0;
   \   00000076   0x2000             MOVS     R0,#+0
   \   00000078   0x70E0             STRB     R0,[R4, #+3]
    223            realtime_init_struct->hour = GET_COMPILE_HOUR;
   \   0000007A   0x....             LDR.N    R0,??DataTable3_7
   \   0000007C   0x7800             LDRB     R0,[R0, #+0]
   \   0000007E   0x210A             MOVS     R1,#+10
   \   00000080   0x....             LDR.N    R2,??DataTable3_7
   \   00000082   0x7852             LDRB     R2,[R2, #+1]
   \   00000084   0xFB01 0x2000      MLA      R0,R1,R0,R2
   \   00000088   0x3810             SUBS     R0,R0,#+16
   \   0000008A   0x7020             STRB     R0,[R4, #+0]
    224            realtime_init_struct->minute = GET_COMPILE_MINUTE;
   \   0000008C   0x....             LDR.N    R0,??DataTable3_7
   \   0000008E   0x78C0             LDRB     R0,[R0, #+3]
   \   00000090   0x210A             MOVS     R1,#+10
   \   00000092   0x....             LDR.N    R2,??DataTable3_7
   \   00000094   0x7912             LDRB     R2,[R2, #+4]
   \   00000096   0xFB01 0x2000      MLA      R0,R1,R0,R2
   \   0000009A   0x3810             SUBS     R0,R0,#+16
   \   0000009C   0x7060             STRB     R0,[R4, #+1]
    225            realtime_init_struct->second = GET_COMPILE_SECOND;
   \   0000009E   0x....             LDR.N    R0,??DataTable3_7
   \   000000A0   0x7980             LDRB     R0,[R0, #+6]
   \   000000A2   0x210A             MOVS     R1,#+10
   \   000000A4   0x....             LDR.N    R2,??DataTable3_7
   \   000000A6   0x79D2             LDRB     R2,[R2, #+7]
   \   000000A8   0xFB01 0x2000      MLA      R0,R1,R0,R2
   \   000000AC   0x3810             SUBS     R0,R0,#+16
   \   000000AE   0x70A0             STRB     R0,[R4, #+2]
    226          }
   \   000000B0   0xBD31             POP      {R0,R4,R5,PC}    ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   0x01E13380         DC32     0x1e13380

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   0x00015180         DC32     0x15180

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   0x........         DC32     month_table

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   0x........         DC32     `LPLD_TimeStampToDateTime::day_counter`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   0x........         DC32     week_table

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_5:
   \   00000000   0x........         DC32     ?_0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_6:
   \   00000000   0x........         DC32     month_list

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_7:
   \   00000000   0x........         DC32     ?_1

   \                                 In section .rodata, align 4
   \                     ?_0:
   \   00000000   0x4A 0x75          DC8 "Jun 10 2019"
   \              0x6E 0x20    
   \              0x31 0x30    
   \              0x20 0x32    
   \              0x30 0x31    
   \              0x39 0x00    

   \                                 In section .rodata, align 4
   \                     ?_1:
   \   00000000   0x32 0x30          DC8 "20:27:04"
   \              0x3A 0x32    
   \              0x37 0x3A    
   \              0x30 0x34    
   \              0x00         
   \   00000009   0x00 0x00          DC8 0, 0, 0
   \              0x00         
    227          

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      16   LPLD_AutoInitTimeStamp
        16   -> strncmp
      20   LPLD_DateTimeToTimeStamp
       8   LPLD_GetWeek
      16   LPLD_TimeStampToDateTime
        16   -> LPLD_GetWeek


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable3
       4  ??DataTable3_1
       4  ??DataTable3_2
       4  ??DataTable3_3
       4  ??DataTable3_4
       4  ??DataTable3_5
       4  ??DataTable3_6
       4  ??DataTable3_7
      12  ?_0
      12  ?_1
     178  LPLD_AutoInitTimeStamp
     332  LPLD_DateTimeToTimeStamp
     122  LPLD_GetWeek
     304  LPLD_TimeStampToDateTime
       4  day_counter
      36  month_list
      12  month_table
      12  week_table

 
   4 bytes in section .bss
  84 bytes in section .rodata
 968 bytes in section .text
 
 968 bytes of CODE  memory
  84 bytes of CONST memory
   4 bytes of DATA  memory

Errors: none
Warnings: 1
