###############################################################################
#
# IAR ANSI C/C++ Compiler V7.70.1.11437/W32 for ARM       08/Jul/2019  02:43:02
# Copyright 1999-2016 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\app\drivers\src\rtc.c
#    Command line =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\app\drivers\src\rtc.c
#        -D LPLD_K60 -lCN
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List
#        -lB
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List
#        -o
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\Obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=None --dlib_config "D:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\INC\c\DLib_Config_Normal.h" -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\CPU\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\common\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\HW\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\DEV\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\uCOS-II\Ports\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\uCOS-II\Source\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\FatFs\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\FatFs\option\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\common\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\driver\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\descriptor\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\class\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\control\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\debug\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\device\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\signal\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\system\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\control\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\debug\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\device\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\signal\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\system\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\drivers\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\drivers\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\charge\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\charge\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\FUNC\
#        -Ol -I "D:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\CMSIS\Include\" -D ARM_MATH_CM4
#    Locale       =  Chinese (Simplified)_China.936
#    List file    =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List\rtc.lst
#    Object file  =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\Obj\rtc.o
#
###############################################################################

D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\app\drivers\src\rtc.c
      1          /*=============================================
      2              @file         rtc.c
      3              @brief        RTC万年历
      4              @programmer   Beyond Hsueh
      5          =============================================*/
      6          
      7          #include "rtc.h"
      8          #include "TimeStamp.h"
      9          
     10          /*===============================================================
     11                  @note      西风烈，长空雁叫霜晨月，
     12                             霜晨月，马蹄声碎，喇叭声咽。
     13                             雄关漫道真如铁，而今迈步从头越，
     14                             从头越，苍山如海，残阳如血。
     15          ==================================================================*/    
     16          

   \                                 In section .bss, align 4
     17          RTC_InitTypeDef rtc_init_structure;
   \                     rtc_init_structure:
   \   00000000                      DS8 24

   \                                 In section .bss, align 4
     18          TimeStamp_FormatTypeDef time;
   \                     time:
   \   00000000                      DS8 8
     19          
     20          /*===============================================================
     21          	@brief      日历初始化
     22          	@note       使用拉普兰德库函数，相较山外的库，该库可直接调用编译器时间
     23          ==================================================================*/

   \                                 In section .text, align 2, keep-with-next
     24          void RTC_Init()
     25          {   
   \                     RTC_Init: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB083             SUB      SP,SP,#+12
     26              //开启RTC SIM 时钟，通过判断TIF获知
     27              //当前RTC是否发生VBAT POR或者 Software Reset
     28              //如果没有发生，RTC正常计数   
     29          //    if(LPLD_RTC_IsRunning() == 0) 
     30          //    {   
     31                  LPLD_AutoInitTimeStamp(&time);
   \   00000004   0x....             LDR.N    R0,??DataTable1_1
   \   00000006   0x.... 0x....      BL       LPLD_AutoInitTimeStamp
     32          
     33                  rtc_init_structure.RTC_Seconds = LPLD_DateTimeToTimeStamp(&time);
   \   0000000A   0x....             LDR.N    R0,??DataTable1_1
   \   0000000C   0x.... 0x....      BL       LPLD_DateTimeToTimeStamp
   \   00000010   0x....             LDR.N    R1,??DataTable1_2
   \   00000012   0x6008             STR      R0,[R1, #+0]
     34                  LPLD_RTC_Init(rtc_init_structure);
   \   00000014   0x....             LDR.N    R1,??DataTable1_2
   \   00000016   0xB084             SUB      SP,SP,#+16
   \   00000018   0x4668             MOV      R0,SP
   \   0000001A   0x2218             MOVS     R2,#+24
   \   0000001C   0x.... 0x....      BL       __aeabi_memcpy4
   \   00000020   0xBC0F             POP      {R0-R3}
   \   00000022   0x.... 0x....      BL       LPLD_RTC_Init
     35          //    }
     36          }
   \   00000026   0xBD07             POP      {R0-R2,PC}       ;; return
     37          
     38          /*===============================================================
     39          	@brief      日期显示
     40          ==================================================================*/

   \                                 In section .text, align 2, keep-with-next
     41          void Show_Time()
     42          {
   \                     Show_Time: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     43              uint32 temp;
     44              
     45              temp = LPLD_RTC_GetRealTime();
   \   00000002   0x....             LDR.N    R0,??DataTable1_3  ;; 0x4003d000
   \   00000004   0x6800             LDR      R0,[R0, #+0]
     46              LPLD_TimeStampToDateTime(temp,&time);
   \   00000006   0x....             LDR.N    R1,??DataTable1_1
   \   00000008   0x.... 0x....      BL       LPLD_TimeStampToDateTime
     47              //printf("%4d-%02d-%02d %02d:%02d:%02d\r\n", time.year, time.month, time.day, time.hour, time.minute, time.second);
     48              LPLD_LPTMR_DelayMs(1000);
   \   0000000C   0xF44F 0x707A      MOV      R0,#+1000
   \   00000010   0x.... 0x....      BL       LPLD_LPTMR_DelayMs
     49              
     50              oled_print_16x8short(5,5,(int16)(time.year));
   \   00000014   0x....             LDR.N    R0,??DataTable1_1
   \   00000016   0xF9B0 0x0006      LDRSH    R0,[R0, #+6]
   \   0000001A   0x0002             MOVS     R2,R0
   \   0000001C   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   0000001E   0x2105             MOVS     R1,#+5
   \   00000020   0x2005             MOVS     R0,#+5
   \   00000022   0x.... 0x....      BL       oled_print_16x8short
     51              oled_display_16x8str(55,5,"-");
   \   00000026   0x....             ADR.N    R2,??DataTable1  ;; "-"
   \   00000028   0x2105             MOVS     R1,#+5
   \   0000002A   0x2037             MOVS     R0,#+55
   \   0000002C   0x.... 0x....      BL       oled_display_16x8str
     52              oled_print_16x8short(65,5,(int16)(time.month));
   \   00000030   0x....             LDR.N    R0,??DataTable1_1
   \   00000032   0x7940             LDRB     R0,[R0, #+5]
   \   00000034   0x0002             MOVS     R2,R0
   \   00000036   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000038   0x2105             MOVS     R1,#+5
   \   0000003A   0x2041             MOVS     R0,#+65
   \   0000003C   0x.... 0x....      BL       oled_print_16x8short
     53              oled_display_16x8str(85,5,"-");
   \   00000040   0x....             ADR.N    R2,??DataTable1  ;; "-"
   \   00000042   0x2105             MOVS     R1,#+5
   \   00000044   0x2055             MOVS     R0,#+85
   \   00000046   0x.... 0x....      BL       oled_display_16x8str
     54              oled_print_16x8short(95,5,(int16)(time.day));
   \   0000004A   0x....             LDR.N    R0,??DataTable1_1
   \   0000004C   0x7900             LDRB     R0,[R0, #+4]
   \   0000004E   0x0002             MOVS     R2,R0
   \   00000050   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000052   0x2105             MOVS     R1,#+5
   \   00000054   0x205F             MOVS     R0,#+95
   \   00000056   0x.... 0x....      BL       oled_print_16x8short
     55              oled_print_16x8short(35,35,(int16)(time.hour));
   \   0000005A   0x....             LDR.N    R0,??DataTable1_1
   \   0000005C   0x7800             LDRB     R0,[R0, #+0]
   \   0000005E   0x0002             MOVS     R2,R0
   \   00000060   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000062   0x2123             MOVS     R1,#+35
   \   00000064   0x2023             MOVS     R0,#+35
   \   00000066   0x.... 0x....      BL       oled_print_16x8short
     56              oled_display_16x8str(55,35,"-");
   \   0000006A   0x....             ADR.N    R2,??DataTable1  ;; "-"
   \   0000006C   0x2123             MOVS     R1,#+35
   \   0000006E   0x2037             MOVS     R0,#+55
   \   00000070   0x.... 0x....      BL       oled_display_16x8str
     57              oled_print_16x8short(65,35,(int16)(time.minute));
   \   00000074   0x....             LDR.N    R0,??DataTable1_1
   \   00000076   0x7840             LDRB     R0,[R0, #+1]
   \   00000078   0x0002             MOVS     R2,R0
   \   0000007A   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   0000007C   0x2123             MOVS     R1,#+35
   \   0000007E   0x2041             MOVS     R0,#+65
   \   00000080   0x.... 0x....      BL       oled_print_16x8short
     58              oled_display_16x8str(85,35,"-");
   \   00000084   0x....             ADR.N    R2,??DataTable1  ;; "-"
   \   00000086   0x2123             MOVS     R1,#+35
   \   00000088   0x2055             MOVS     R0,#+85
   \   0000008A   0x.... 0x....      BL       oled_display_16x8str
     59              oled_print_16x8short(95,35,(int16)(time.second));
   \   0000008E   0x....             LDR.N    R0,??DataTable1_1
   \   00000090   0x7880             LDRB     R0,[R0, #+2]
   \   00000092   0x0002             MOVS     R2,R0
   \   00000094   0xB212             SXTH     R2,R2            ;; SignExt  R2,R2,#+16,#+16
   \   00000096   0x2123             MOVS     R1,#+35
   \   00000098   0x205F             MOVS     R0,#+95
   \   0000009A   0x.... 0x....      BL       oled_print_16x8short
     60          }
   \   0000009E   0xBD01             POP      {R0,PC}          ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   0x2D 0x00          DC8      "-",0x0,0x0
   \              0x00 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_1:
   \   00000000   0x........         DC32     time

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_2:
   \   00000000   0x........         DC32     rtc_init_structure

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_3:
   \   00000000   0x4003D000         DC32     0x4003d000

   \                                 In section .rodata, align 2
   \   00000000   0x2D 0x00          DC8 "-"

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      32   RTC_Init
        16   -> LPLD_AutoInitTimeStamp
        16   -> LPLD_DateTimeToTimeStamp
        16   -> LPLD_RTC_Init
        32   -> __aeabi_memcpy4
       8   Show_Time
         8   -> LPLD_LPTMR_DelayMs
         8   -> LPLD_TimeStampToDateTime
         8   -> oled_display_16x8str
         8   -> oled_print_16x8short


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable1
       4  ??DataTable1_1
       4  ??DataTable1_2
       4  ??DataTable1_3
       2  ?_0
      40  RTC_Init
     160  Show_Time
      24  rtc_init_structure
       8  time

 
  32 bytes in section .bss
   2 bytes in section .rodata
 216 bytes in section .text
 
 216 bytes of CODE  memory
   2 bytes of CONST memory
  32 bytes of DATA  memory

Errors: none
Warnings: none
