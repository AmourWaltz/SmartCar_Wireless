###############################################################################
#
# IAR ANSI C/C++ Compiler V7.70.1.11437/W32 for ARM       08/Jul/2019  02:43:03
# Copyright 1999-2016 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\app\device\src\switch.c
#    Command line =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\app\device\src\switch.c
#        -D LPLD_K60 -lCN
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List
#        -lB
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List
#        -o
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\Obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=None --dlib_config "D:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\INC\c\DLib_Config_Normal.h" -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\CPU\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\common\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\HW\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\DEV\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\uCOS-II\Ports\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\uCOS-II\Source\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\FatFs\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\FatFs\option\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\common\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\driver\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\descriptor\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\USB\class\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\control\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\debug\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\device\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\signal\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\system\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\control\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\debug\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\device\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\signal\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\system\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\drivers\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\drivers\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\charge\inc\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\app\charge\src\
#        -I
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\..\..\..\lib\LPLD\FUNC\
#        -Ol -I "D:\Program Files (x86)\IAR Systems\Embedded Workbench
#        7.5\arm\CMSIS\Include\" -D ARM_MATH_CM4
#    Locale       =  Chinese (Simplified)_China.936
#    List file    =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\List\switch.lst
#    Object file  =  
#        D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\iar\FLASH\Obj\switch.o
#
###############################################################################

D:\Freescale\无线节能14th\wireless_energy_saving_14th\14th_wireless_energy_saving_NXP\14th_wireless_energy_saving\project\14th_wireless_energy_saving\app\device\src\switch.c
      1          /*=============================================
      2              @file         switch.c
      3              @brief        拨码
      4              @programmer   Beyond Hsueh
      5          =============================================*/
      6          
      7          #include "switch.h"
      8          
      9          /*===============================================================
     10                  @note      静女其姝，俟我于城隅；
     11                             爱而不见，搔首踟蹰。
     12                             静女其娈，贻我彤管；
     13                             彤管有炜，说怿女美。
     14                             自牧归荑，洵美且异；
     15                             匪女之为美，美人之贻。
     16          ==================================================================*/     
     17          
     18          /*===============================================================
     19          	@brief     初始化拨码
     20          ==================================================================*/

   \                                 In section .text, align 2, keep-with-next
     21          void Switch_Init()
     22          {
   \                     Switch_Init: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     23              GPIO_Init(SW0_BIT0_PORT, SW0_BIT0_PIN_MASK, DIR_INPUT, OUTPUT_L);
   \   00000002   0x2300             MOVS     R3,#+0
   \   00000004   0x2200             MOVS     R2,#+0
   \   00000006   0x2120             MOVS     R1,#+32
   \   00000008   0x....             LDR.N    R0,??DataTable1  ;; 0x400ff0c0
   \   0000000A   0x.... 0x....      BL       GPIO_Init
     24              GPIO_Init(SW0_BIT1_PORT, SW0_BIT1_PIN_MASK, DIR_INPUT, OUTPUT_L);
   \   0000000E   0x2300             MOVS     R3,#+0
   \   00000010   0x2200             MOVS     R2,#+0
   \   00000012   0x2110             MOVS     R1,#+16
   \   00000014   0x....             LDR.N    R0,??DataTable1  ;; 0x400ff0c0
   \   00000016   0x.... 0x....      BL       GPIO_Init
     25          
     26              GPIO_Init(SW1_BIT0_PORT, SW1_BIT0_PIN_MASK, DIR_INPUT, OUTPUT_L);
   \   0000001A   0x2300             MOVS     R3,#+0
   \   0000001C   0x2200             MOVS     R2,#+0
   \   0000001E   0xF44F 0x7100      MOV      R1,#+512
   \   00000022   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   00000024   0x.... 0x....      BL       GPIO_Init
     27              GPIO_Init(SW1_BIT1_PORT, SW1_BIT1_PIN_MASK, DIR_INPUT, OUTPUT_L); 
   \   00000028   0x2300             MOVS     R3,#+0
   \   0000002A   0x2200             MOVS     R2,#+0
   \   0000002C   0xF44F 0x7180      MOV      R1,#+256
   \   00000030   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   00000032   0x.... 0x....      BL       GPIO_Init
     28              GPIO_Init(SW1_BIT2_PORT, SW1_BIT2_PIN_MASK, DIR_INPUT, OUTPUT_L);
   \   00000036   0x2300             MOVS     R3,#+0
   \   00000038   0x2200             MOVS     R2,#+0
   \   0000003A   0xF44F 0x6100      MOV      R1,#+2048
   \   0000003E   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   00000040   0x.... 0x....      BL       GPIO_Init
     29              GPIO_Init(SW1_BIT3_PORT, SW1_BIT3_PIN_MASK, DIR_INPUT, OUTPUT_L);        
   \   00000044   0x2300             MOVS     R3,#+0
   \   00000046   0x2200             MOVS     R2,#+0
   \   00000048   0xF44F 0x6180      MOV      R1,#+1024
   \   0000004C   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   0000004E   0x.... 0x....      BL       GPIO_Init
     30          }
   \   00000052   0xBD01             POP      {R0,PC}          ;; return
     31          
     32          /*===============================================================
     33          	@brief     返回开关全部位值
     34          ==================================================================*/

   \                                 In section .text, align 2, keep-with-next
     35          uint8 Get_Switch_Value(uint8 *uc_switch_pin_value, uint8 uc_switch_pin)
     36          {
   \                     Get_Switch_Value: (+1)
   \   00000000   0xB57C             PUSH     {R2-R6,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
     37              uint8 uc_sw_bit_temp[6];
     38              uint8 uc_switch_value = 0;
   \   00000006   0x2600             MOVS     R6,#+0
     39              
     40              uc_sw_bit_temp[0] = LPLD_GPIO_Input_b(SW0_BIT0_PORT, SW0_BIT0_PIN);
   \   00000008   0x2105             MOVS     R1,#+5
   \   0000000A   0x....             LDR.N    R0,??DataTable1  ;; 0x400ff0c0
   \   0000000C   0x.... 0x....      BL       LPLD_GPIO_Input_b
   \   00000010   0xF88D 0x0000      STRB     R0,[SP, #+0]
     41              uc_sw_bit_temp[1] = LPLD_GPIO_Input_b(SW0_BIT1_PORT, SW0_BIT1_PIN);
   \   00000014   0x2104             MOVS     R1,#+4
   \   00000016   0x....             LDR.N    R0,??DataTable1  ;; 0x400ff0c0
   \   00000018   0x.... 0x....      BL       LPLD_GPIO_Input_b
   \   0000001C   0xF88D 0x0001      STRB     R0,[SP, #+1]
     42              uc_sw_bit_temp[2] = LPLD_GPIO_Input_b(SW1_BIT0_PORT, SW1_BIT0_PIN);
   \   00000020   0x2109             MOVS     R1,#+9
   \   00000022   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   00000024   0x.... 0x....      BL       LPLD_GPIO_Input_b
   \   00000028   0xF88D 0x0002      STRB     R0,[SP, #+2]
     43              uc_sw_bit_temp[3] = LPLD_GPIO_Input_b(SW1_BIT1_PORT, SW1_BIT1_PIN);
   \   0000002C   0x2108             MOVS     R1,#+8
   \   0000002E   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   00000030   0x.... 0x....      BL       LPLD_GPIO_Input_b
   \   00000034   0xF88D 0x0003      STRB     R0,[SP, #+3]
     44              uc_sw_bit_temp[4] = LPLD_GPIO_Input_b(SW1_BIT2_PORT, SW1_BIT2_PIN);
   \   00000038   0x210B             MOVS     R1,#+11
   \   0000003A   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   0000003C   0x.... 0x....      BL       LPLD_GPIO_Input_b
   \   00000040   0xF88D 0x0004      STRB     R0,[SP, #+4]
     45              uc_sw_bit_temp[5] = LPLD_GPIO_Input_b(SW1_BIT3_PORT, SW1_BIT3_PIN);
   \   00000044   0x210A             MOVS     R1,#+10
   \   00000046   0x....             LDR.N    R0,??DataTable1_1  ;; 0x400ff080
   \   00000048   0x.... 0x....      BL       LPLD_GPIO_Input_b
   \   0000004C   0xF88D 0x0005      STRB     R0,[SP, #+5]
     46              
     47              if (uc_switch_pin_value != NULL)
   \   00000050   0x2C00             CMP      R4,#+0
   \   00000052   0xD003             BEQ.N    ??Get_Switch_Value_0
     48              {
     49                  *uc_switch_pin_value = uc_sw_bit_temp[uc_switch_pin];       
   \   00000054   0x4668             MOV      R0,SP
   \   00000056   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000058   0x5D40             LDRB     R0,[R0, R5]
   \   0000005A   0x7020             STRB     R0,[R4, #+0]
     50              }
     51              
     52              /*获取所有位值*/
     53              uc_switch_value |= uc_sw_bit_temp[0]<<0;
   \                     ??Get_Switch_Value_0: (+1)
   \   0000005C   0xF89D 0x0000      LDRB     R0,[SP, #+0]
   \   00000060   0x4306             ORRS     R6,R0,R6
     54              uc_switch_value |= uc_sw_bit_temp[1]<<1;
   \   00000062   0xF89D 0x0001      LDRB     R0,[SP, #+1]
   \   00000066   0xEA56 0x0640      ORRS     R6,R6,R0, LSL #+1
     55              uc_switch_value |= uc_sw_bit_temp[2]<<2;
   \   0000006A   0xF89D 0x0002      LDRB     R0,[SP, #+2]
   \   0000006E   0xEA56 0x0680      ORRS     R6,R6,R0, LSL #+2
     56              uc_switch_value |= uc_sw_bit_temp[3]<<3;
   \   00000072   0xF89D 0x0003      LDRB     R0,[SP, #+3]
   \   00000076   0xEA56 0x06C0      ORRS     R6,R6,R0, LSL #+3
     57              uc_switch_value |= uc_sw_bit_temp[4]<<4;
   \   0000007A   0xF89D 0x0004      LDRB     R0,[SP, #+4]
   \   0000007E   0xEA56 0x1600      ORRS     R6,R6,R0, LSL #+4
     58              uc_switch_value |= uc_sw_bit_temp[5]<<5;
   \   00000082   0xF89D 0x0005      LDRB     R0,[SP, #+5]
   \   00000086   0xEA56 0x1640      ORRS     R6,R6,R0, LSL #+5
     59              
     60              return uc_switch_value;
   \   0000008A   0x0030             MOVS     R0,R6
   \   0000008C   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000008E   0xBD76             POP      {R1,R2,R4-R6,PC}  ;; return
     61          }
     62          
     63          /*===============================================================
     64          	@brief     读取拨码开关值
     65          ==================================================================*/

   \                                 In section .text, align 2, keep-with-next
     66          uint8 Switch_Read_Value(uint8 uc_switch_pin)
     67          {
   \                     Switch_Read_Value: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     68              uint8 switch_value;
     69              Get_Switch_Value(&switch_value,uc_switch_pin);
   \   00000002   0x0001             MOVS     R1,R0
   \   00000004   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000006   0x4668             MOV      R0,SP
   \   00000008   0x.... 0x....      BL       Get_Switch_Value
     70              return switch_value;
   \   0000000C   0xF89D 0x0000      LDRB     R0,[SP, #+0]
   \   00000010   0xBD02             POP      {R1,PC}          ;; return
     71          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   0x400FF0C0         DC32     0x400ff0c0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_1:
   \   00000000   0x400FF080         DC32     0x400ff080

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      24   Get_Switch_Value
        24   -> LPLD_GPIO_Input_b
       8   Switch_Init
         8   -> GPIO_Init
       8   Switch_Read_Value
         8   -> Get_Switch_Value


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable1
       4  ??DataTable1_1
     144  Get_Switch_Value
      84  Switch_Init
      18  Switch_Read_Value

 
 254 bytes in section .text
 
 254 bytes of CODE memory

Errors: none
Warnings: none
